<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lambda Life</title>
    <link rel="stylesheet" href="main.css">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
    <script>
        function checkPassword() {
            const correctPassword = "bostinky24"; // Set the desired password

            // Check if password is already stored in session
            if (sessionStorage.getItem("accessGranted") === "true") {
                document.getElementById("protected-content").style.display = "block";
                return;
            }

            // Prompt for password if not already stored
            let userPassword = prompt("Please enter the password:");

            if (userPassword === correctPassword) {
                sessionStorage.setItem("accessGranted", "true"); // Store access for this session
                document.getElementById("protected-content").style.display = "block";
            } else {
                alert("Incorrect password. Access denied.");
                checkPassword(); // Re-prompt if incorrect
            }
        }

        function isMobileDevice() {
            return /Mobi|Android/i.test(navigator.userAgent);
        }

        function openPdf(pdfUrl, mobileLink) {
            if (isMobileDevice()) {
                window.location.href = mobileLink; // Redirect to mobile link
            } else {
                const modal = document.getElementById("pdfModal");
                const pdfViewer = document.getElementById("pdfViewer");
                pdfViewer.src = pdfUrl;
                modal.classList.add("active");
            }
        }

        function closePdf() {
            const modal = document.getElementById("pdfModal");
            const pdfViewer = document.getElementById("pdfViewer");
            pdfViewer.src = ""; // Clear the src to stop loading the PDF
            modal.classList.remove("active"); // Hide the modal
        }

        window.onclick = function(event) {
            const modal = document.getElementById("pdfModal");
            if (event.target === modal) {
                closePdf();
            }
        };
    </script>
</head>
<body onload="checkPassword()">

<div id="protected-content" style="display: none;">
    <!-- Navbar -->
    <header class="navbar">
        <nav class="nav-content">
            <div class="logo">
                <img src="taddelogo.png" alt="Logo" class="logo-image"> <!-- Adjust path to your logo -->
                TaddeBros
            </div>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="updates.html">Updates</a></li>
                <li><a href="https://drive.google.com/drive/u/2/folders/1RLuiaPaCh2yblmsGMQ-k6HO3An_Kki4H" target="_blank">Media</a></li>
            </ul>
        </nav>
    </header>

    <!-- Banner -->
    <section class="banner">
        <div class="banner-bg" style="background-image: url('family.jpg');"></div>
        <div class="banner-overlay"></div>
        <div class="banner-text">
            <h1>Lambda News</h1>
            <p>Curated by Jam and JT</p>
        </div>
    </section>

    <section id="home" class="pdf-gallery">
        <div class="pdf-item-container">
            <h3 class="pdf-title">Newsletter 1</h3>
            <div class="pdf-item" onclick="openPdf('pdfs/news1.pdf', 'https://drive.google.com/file/d/1rtVuW13QcQ2Ec9eozRnlKbAZvWjEZoeu/view?usp=sharing')">
                <img src="thumbnails/news1thumb.jpg" alt="Newsletter 1">
            </div>
        </div>
        <div class="pdf-item-container">
            <h3 class="pdf-title">Newsletter 2</h3>
            <div class="pdf-item" onclick="openPdf('pdfs/news2.pdf', 'https://drive.google.com/file/d/1UdykwFBeheTQFLaKZElUu92IZwk5eEyM/view?usp=sharing')">
                <img src="thumbnails/news2thumb.jpg" alt="Newsletter 2">
            </div>
        </div>
        <div class="pdf-item-container">
            <h3 class="pdf-title">Newsletter 3</h3>
            <div class="pdf-item" onclick="openPdf('pdfs/news3.pdf', 'https://drive.google.com/file/d/1CDcofBVN5XmFd-epuObPbuvo_JvuQy-p/view?usp=sharing')">
                <img src="thumbnails/news3thumb.jpg" alt="Newsletter 3">
            </div>
        </div>
        <div class="pdf-item-container">
            <h3 class="pdf-title">Newsletter 4 (Coming Soon)</h3>
            <div class="pdf-item" onclick="openPdf('pdfs/news4.pdf', '')">
                <img src="blank.png" alt="">
            </div>
        </div>
        <div class="pdf-item-container">
            <h3 class="pdf-title">Newsletter 5 (Coming Soon)</h3>
            <div class="pdf-item" onclick="openPdf('pdfs/news5.pdf', '')">
                <img src="blank.png" alt="">
            </div>
        </div>
    </section>
    

    <!-- PDF Modal -->
    <div id="pdfModal" class="modal">
        <span class="close" onclick="closePdf()">&times;</span>
        <embed id="pdfViewer" type="application/pdf" width="90%" height="90%" />
    </div>
</div> <!-- End of protected content -->

<script src="pdfjs/pdf.min.js"></script>
<script src="script.js"></script>
</body>
</html>
